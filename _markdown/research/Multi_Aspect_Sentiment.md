# Multi-Aspect Sentiment Analysis of Hotel Reviews

This project was lead by [Dr. Hasan][hasan_homepage] and funded by an NSF grant as an [REU project][reu_project_homepage]. The project ran from June to August 2017.

This project was concerned with predicting sentiment over multiple aspects in a review. The project specifically trained on and tested on the domain of hotel reviews. Raw text reviews were converted into representations that can be utilized to both evaluate which aspects the review is talking about and predict the sentiment expressed about each aspect in the review. Hotel reviews scraped from the website TripAdvisor.com were utilized for supervised learning, predicting sentiment for each aspect based on the representations, and evaluation of the feature representations that were created.

The following is an example of the multi-aspect nature of reviews:

![reference_image][multi_aspect_nature]

The project consisted of three fundamental tasks, namely:

1. **Data Aquisition**: Retrieving hotel reviews with multi-aspect ratings from online sources
    - Must have both full review text and ratings for distinct aspects
2. **Feature Engineering**: Converting raw text reviews into representations which capture information useful for discriminating aspects present in the review and the sentiment for each aspect
3. **Validation**: Evaluating the capability of these representations to discriminate the sentiment present in a review for each aspect

## Involvement

#### Deliverables
In this project I took full charge of data acquisition and validation. This manifested in retrieving the hotel reviews from TripAdvisor and evaluating the performance of the representations that the rest of the team produced.

###### Hotel Review Scraping
I utilized the vast libraries available with nodejs to create a resilient web scraper that would be capable of crawling web pages of both Trivago.com and later TripAdvisor.com. After a week of automated crawling the scraper generated a 1.5GB dataset of hotel reviews. The source code for the web crawler is available at [github.com/uladkasach/Hotel-Reviews-Scraper][hotel_reviews_scraper_repo]. Due to copyright concerns I will not post the dataset publicly but am happy to share the dataset with researchers on request.

The following is a gif of the terminal output that is seen when the scraper is running. (The errors are expected and are simply logged; the ability to continue functioning when outlier web resources do not align with expectations is part of the "resilience" of the scraper functionality.)

![research_gif_larger][scraper_gif]

###### Evaluation of Representations


A neural network was utilized in order to evaluate the utility of the representations generated by the team through feature engineering in detecting the sentiment for each of the predefined aspects in a review. The multi-aspect ratings available with the TripAdvisor reviews provided labeled "sentiment" rankings (in form of stars from 0-5 for 8 distinct aspects) upon which supervised training can be conducted. The code base for this processes is available at [github.com/uladkasach/Hotel-Reviews-REU/.../predict_aspect_ratings][hotel_reviews_reu_prediction].

In order to evaluate the effect that the word embedding technique used as part of the feature engineering had on the process we needed to compare the performace of the representations created with atleast two word embedding techniques. To this end we compared the word2vec word embeddings with word embeddings generated in a more standard way, TF-IDF + SVD. The code base for generating TF-IDF+SVD vectors is available at [github.com/uladkasach/Hotel-Reviews-REU/.../tfidf_vectorization][hotel_reviews_reu_vectorization].

#### Meta-Research
Throughout my involvement in the project I attempted to gain a full understanding of why Dr. Hasan recommended certain approaches to problems, why he noted that certain problems were of more interest than others, and what elements were critical to both generating relevant work and demonstrating this relevance; that is, on a fundamental level, I was actively attempting to learn both the process of creating and managing research worth publishing as well as how to report results worth publishing.   

#### Other
It is relevant to note that my involvement was significantly constrained time wise as by the time the REU opportunity was made public I had already accepted a position as a software engineering intern at Regenstreif (and had already started working there early on a part time basis); rather than being able to spend 40 hours a week on the project (as I was doing for Regenstrief) I was relegated to spending at most 15 hours a week on the project. (The 15 hour effective limitation was due to the immediately necessary renovations required to be completed on the duplex that summer - something which was deeply troubling to me as I was spending time on renovations rather than research).



## Take-Aways

0. This research brought with it an ample amount of learning about the process of finding research directions that were relevant to the broader scientific community (i.e., publishable) as well as the process of generating results that were publishable as well. This work was an applied demonstration of the capability that advancements in NLP were capable of producing on datasets of both prior research interest and real world application.    

0. The relevance of representation learning distinctly was first brought to my attention in this project. The approach that we as a group were taking in this research was in manually generated features - feature engineering. A sentiment that, i think, i did not share alone was the desire to systematically and thoroughly evaluate and validate the results of the feature engineering that was conducted. As usual, however, time constraints and the expensive nature of human evaluation resulted in a process of generating features that did not meet these goals. At the same time, the distinct difference between the feature engineering process and feature evaluation process made the lack of machine learning present in the feature engineering process amply notable. Although I did not fully recognize the level of impact that representation learning could have, it made a lasting subconscious impression.

0. A take-away very much specifically related to machine learning is: look for available datasets before creating your own. After further literature review, conducted in the stage of comparing our results, we found that there is a publicly available dataset of the [same type of data already available][available_datasets].

0. Perhaps the most prominent take away was the importance of picking and choosing which opportunities to accept. It is this lack of selectivity in the face of challenges that lead to my position in being restricted in the amount of time I was able to spend on the work that was most significant. Rather than conducting research in all of my free time outside of my internship (not considering the possibility to have been able to officially be employed full time conducting research) I was spending time conducting work that would have no significant impact beyond ensuring that I would not go bankrupt in the meanwhile.
    - Parallel to this, the same thought process made it even more abundantly clear the opportunity that PhD candidacy is capable of providing: a position which enables undivided attention to the most impactful and interesting work that you can think of.   


[hotel_reviews_scraper_repo]: https://github.com/uladkasach/Hotel-Reviews-Scraper
[hotel_reviews_reu_vectorization]: https://github.com/uladkasach/Hotel-Reviews-REU/tree/master/Vlad/tfidf_vectorization
[hotel_reviews_reu_prediction]: https://github.com/uladkasach/Hotel-Reviews-REU/tree/master/Vlad/predict_aspect_ratings


[hasan_homepage]: http://dmgroup.cs.iupui.edu/home.php
[scraper_gif]: /_material/research/Multi_Aspect_Sentiment/scraping_terminal_output.gif
[multi_aspect_nature]: /_material/research/Multi_Aspect_Sentiment/multi_aspect_nature.png
[reu_project_homepage]: https://www.datareu.com/

[available_datasets]: http://times.cs.uiuc.edu/~wang296/Data/
